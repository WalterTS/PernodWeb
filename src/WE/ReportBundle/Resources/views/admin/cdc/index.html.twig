{% extends 'base.html.twig' %}

{% block body %}
    {# AREA BREADCUM/BOTÓN #}
    <div class="col-xs-12 px-0 breadcrumb-c">
        <span>Administración / <strong>Centros de Consumo</strong></span>
        <h1>Centros de Consumo</h1>
    </div>
    <div class="col-xs-12 px-0 new-btn">
        <a href="{{ path('cdc_new') }}" class="filter-t-add">
            Crear nuevo<span class="glyphicon glyphicon-plus"></span>
        </a>
    </div>
    {# ---- AREA BREADCUM/BOTÓN #}
    {% include 'ReportBundle:admin:layout/filter-top.html.twig' with {'list_filter':'y', 'searchBy':'cdc'} %}
    <div class='table-wrap hidden-xs'>
        <table class="table table-striped table-bordered dt-responsive nowrap admin-list custom-table-list">
            <thead>
                <tr>
                    <th>{{knp_pagination_sortable(pagination,'Nombre','Cdc.nombre')}}</th>
                    <th>{{knp_pagination_sortable(pagination,'Cliente','Cdc.cliente')}}</th>
                    <th>{{knp_pagination_sortable(pagination,'Cliente ID','Cdc.cliente_id')}}</th>
                    <th>{{knp_pagination_sortable(pagination,'Tipo','t.nombre')}}</th>
                    <th>{{knp_pagination_sortable(pagination,'Plaza','p.nombre')}}</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody>
                {% if pagination|length %}
                    {% for entity in pagination %}
                        <tr>
                            <td>{{entity.nombre}}</td>
                            <td>{{entity.cliente}}</td>
                            <td>{{entity.clienteId}}</td>
                            <td>{{entity.tipo}}</td>
                            <td>{{entity.plaza}}</td>
                            <td><a href="{{ path('cdc_edit', {'id':entity.id}) }}">
                                    <button class="btn bg-ocean">Editar</button>
                                </a>
                                <a href="{{ path('cdc_show', {'id':entity.id}) }}">
                                    <button class="btn bg-ocean">Mostrar</button>
                                </a></td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan='6'>
                            <p>NO HAY CENTROS DE CONSUMO</p>
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>
{% endblock %}
