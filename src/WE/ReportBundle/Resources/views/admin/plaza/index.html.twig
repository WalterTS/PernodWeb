{% extends 'base.html.twig' %}

{% block body %}
    {# AREA BREADCUM/BOTÓN #}
    <div class="col-xs-12 px-0 breadcrumb-c">
        <span>Administración / <strong>Plazas</strong></span>
        <h1>Plazas</h1>
    </div>
    <div class="col-xs-12 px-0 new-btn">
        <a href="{{ path('plaza_new') }}" class="filter-t-add">
            Crear nuevo<span class="glyphicon glyphicon-plus"></span>
        </a>
    </div>
    {# ---- AREA BREADCUM/BOTÓN #}
    {% include 'ReportBundle:admin:layout/filter-top.html.twig' with {'list_filter':'y', 'searchBy':'plaza'} %}
    <div class='table-wrap hidden-xs'>
        <table class="table table-striped table-bordered dt-responsive nowrap admin-list custom-table-list">
            <thead>
                <tr>
                    <th>{{knp_pagination_sortable(pagination,'Nombre','Plaza.nombre')}}</th>
                    <th>{{knp_pagination_sortable(pagination,'Región','r.nombre')}}</th>
                    <th>{{knp_pagination_sortable(pagination,'Abreviación','Plaza.abreviacion')}}</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody>
                {% if pagination|length %}
                    {% for plaza in pagination %}
                        <tr>
                            <td>{{plaza.nombre}}</td>
                            <td>{{plaza.region}}</td>
                            <td>{{plaza.abreviacion}}</td>
                            <td><a href="{{ path('plaza_edit', {'id':plaza.id}) }}">
                                    <button class="btn bg-ocean">Editar</button>
                                </a>
                                <a href="{{ path('plaza_show',{'id':plaza.id}) }}">
                                    <button class="btn bg-ocean">Mostrar</button>
                                </a></td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan='6'>
                            <p>NO HAY PLAZAS</p>
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>
{% endblock %}
